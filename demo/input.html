<html>

<head>
    <title>JQuery.RecurrenceInput Demo</title>

    <link type="text/css" href="jquery.tools.dateinput.css" rel="stylesheet"></link>
    <link type="text/css" href="jquery.recurrenceinput.css" rel="stylesheet"></link>
    <link type="text/css" href="overlays.css" rel="stylesheet"></link>
    <script type="text/javascript" src="../lib/jquery-1.4.2.js"></script>
    <script type="text/javascript" src="../lib/jquery.tmpl-beta1.js"></script>
    <script type="text/javascript" src="../lib/jquery.tools.dateinput-1.2.5.js"></script>
    <script type="text/javascript" src="../lib/jquery.tools.overlay-1.2.5.js"></script>
    <script type="text/javascript" src="../src/jquery.recurrenceinput.js"></script>
    <script id="jquery-recurrenceinput-display-tmpl" type="text/x-jquery-tmpl" src="../src/jquery.recurrenceinput.display.js" ></script>
    <script id="jquery-recurrenceinput-form-tmpl" type="text/x-jquery-tmpl" src="../src/jquery.recurrenceinput.form.js" ></script>
</head>

<body>

    <h1>Welcome to the jquery.recurrenceinput demos!</h1>
    
    <p>For this demo to work it is best server from a webserver. You can
    quickly start one by running <code>python test_server.py</code> in the 
    jquery.recurrenceinput directory, and pointing your webbrowser to
    <a href="http://localhost:8000/demo/input.html">
    http://localhost:8000/demo/input.html</a></p>
    
    <p>To run this demo without starting the test_server.py you need to tell
    your web-browser to allow Ajax loading from your local hard drive.
    The demo will not be full-featured in this case, as some features of this
    widget needs to do Ajax calls to a server that does recurrence
    calculations.</p>
    
    <p><strong>In Firefox</strong> you allow ajax from the hard-drive this by
    going to <a href="about:config"> about:config</a> and setting
    <code>security.fileuri.strict_origin_policy</code> to code>false</code>.</p>
    
    <p><strong>In Chrome and Chromium</strong> you allow it by starting Chrome
    with <code>--allow-file-access-from-files</code> as a parameter.</p>


    <h2>Minimal setup</h2>
    
    <!-- Make a text area for the RRULE, which also works as a
         non-javascript fallback -->
    <textarea name="repeat"></textarea>
    <!-- Make the text area a recurrenceinput -->
    <script type="text/javascript">
        $("textarea[name=repeat]").recurrenceinput();
    </script>


    <h2>Maximal setup</h2>
    <p>Has a connected start field and an Ajax server to calculate occurrences.
    This enables support for EXDATE and RDATE in the rules.</p>
    
    <div class="fieldname_start">
        <label>Start:</label>
        <input id="connected_start2" type="date" value="2012-12-12" />
    </div>
    <div class="fieldname_end">
        <label>End:</label>
        <input id="connected_end2" type="date" />
    </div>
    <script type="text/javascript">
      $(':date').dateinput();
    </script>
    
    <textarea name="connected2">RRULE:FREQ=DAILY;INTERVAL=5;COUNT=100
EXDATE:20121217T0000,20121227T0000
RDATE:20121214T0000,20121215T0000,20121216T0000</textarea>
    <script type="text/javascript">
        $("textarea[name=connected2]").recurrenceinput({startField: "connected_start2",  ajaxURL: document.URL});
    </script>

    
    <h2>Read only mode</h2>
    
    <!-- This also works as a test that both empty (above) and non-empty works -->
    <textarea name="repeat3">RRULE:FREQ=DAILY;INTERVAL=5;COUNT=8</textarea>
    <script type="text/javascript">
        $("textarea[name=repeat3]").recurrenceinput({readOnly: true});
    </script>

    
    <h2>Translated to Swedish</h2>
    
    <textarea name="swedish"></textarea>
    <script type="text/javascript">
        // You set up the translation with the localize method:
        $.tools.recurrenceinput.localize("sv", {
            display_label_unactivate: '\u00C5terkommer inte',
            display_label_activate: '\u00C5terkommer',
            edit: 'Redigera...',
            
            recurrence_type: 'Typ av \u00E5terkomst:',
    
            daily_interval_1: 'Varje',
            daily_interval_2: 'dag(ar)',
    
            weekly_interval_1: 'Varje',
            weekly_interval_2: 'vecka/veckor',
            weekly_weekdays: 'P\u00E5:',
    
            monthly_day_of_month_1: 'Den',
            monthly_day_of_month_2: 'dagen i m\u00E5naden',
            monthly_day_of_month_3: ', var',
            monthly_day_of_month_4: 'm\u00E5nad',
            monthly_weekday_of_month_1: '',
            monthly_weekday_of_month_2: '',
            monthly_weekday_of_month_3: ', varje',
            monthly_weekday_of_month_4: 'm\u00E5nad',
    
            yearly_day_of_month_1: 'Varje',
            yearly_day_of_month_2: '',
            yearly_day_of_month_3: '',
            yearly_weekday_of_month_1: '',
            yearly_weekday_of_month_2: '',
            yearly_weekday_of_month_3: '',
            yearly_weekday_of_month_4: '',
            
            range_label: '\u00C5terkomsten stoppar:',
            range_no_end_label: 'Inte',
            range_by_occurrences_label_1: 'Stoppar efter',
            range_by_occurrences_label_2: '\u00E5terkomster',
            range_by_end_date_label: 'Till och med',
    
            cancel_button_label: 'Avbryt',        
            save_button_label: 'Spara',
    
            order_indexes: ['F\u00F6rsta', 'Andra', 'Tredje', 'Fj\u00E4rde', 'Sista'],
            months: [
                'Januari', 'Februari', 'Mars', 'April', 'Maj', 'Juni',
                'Juli', 'Augusti', 'September', 'October', 'November', 'December'],
            weekdays: [
                'M\u00E5ndag', 'Tisdag', 'Onsdag', 'Torsdag',
                'Fredag', 'L\u00F6rdag', 'S\u00F6ndag'],
                
            long_date_format: 'dd mmmm yyyy',
            short_date_format: 'yyyy-mm-dd',
                
            no_template_match: 'Varning: Denna h\u00E4ndelse anv\u00E4nder funktionalitet ' +
                               'som denna dialog inte st\u00F6djer. Om du sparar kan ' +
                               'detta \u00E4ndra n\u00E4r h\u00E4ndelsen \u00E5terkommer.',
                               
            rtemplate: {
                daily: 'Varje dag',
                mondayfriday: 'M\u00E5ndagar och Fredagar',
                weekdays: 'Veckodagar',
                weekly: 'Varje vecka',
                monthly: 'Varje m\u00E5nad',
                yearly: 'Varje \u00E5r',
            }

        });
        // You select the language with one of two methods:
        // Either you set the defauly language in the tool config, which 
        // will change the language for all subsequent recurrenceinputs:
        //   $.tools.recurrenceinput.conf.lang = 'sv';
        // Or you pass it in as a custom config parameter which changes only
        // this input:
        $("textarea[name=swedish]").recurrenceinput({lang:'sv'});
    </script>
    

    <h2>Custom set of recurrence templates</h2>
    
    <textarea name="custom_en"></textarea>
    <textarea name="custom_sv"></textarea>
    <script type="text/javascript">
    
        // When you define up your own templates, you provide two objects,
        // one containing the template definition, and one providing the titles
        // in the languages you are using.
        // It's notable that the title translation will override the translation
        // For all templates with that name on the page. So if you have widgets
        // with different templates on the same page, you should either make
        // sure they have the same title, or give them different names.
        
        $.tools.recurrenceinput.setTemplates(
            {
                daily: {
                    rrule: 'FREQ=DAILY',
                    fields: [
                        'recurrenceinput_daily_interval',
                        'recurrenceinput_range_options'
                    ]
                },
                mowefr: {
                    rrule: 'FREQ=WEEKLY;BYDAY=MO,WE,FR',
                    fields: [
                        'recurrenceinput_range_options'
                    ]
                },
                weekends: {
                    rrule: 'FREQ=WEEKLY;BYDAY=SA,SU',
                    fields: [
                        'recurrenceinput_range_options'
                    ]
                }
            }, 
            {
                en: {
                    daily: 'Daily',
                    mowefr: 'Mondays, Wednesdays, Fridays',
                    weekends: 'Weekends'
                },
                sv: {
                    daily: 'Dagligen',
                    mowefr: 'M\u00E5ndagar, Onsdagar, Fredagar',
                    weekends: 'Veckoslut'
                }
            }        
        );
        $("textarea[name=custom_en]").recurrenceinput();
        $("textarea[name=custom_sv]").recurrenceinput({lang:'sv'});
    </script>

</body>

</html>


